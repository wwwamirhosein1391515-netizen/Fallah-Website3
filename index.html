<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ú©Ø§Ù†Ø§Ù„ Ø¹Ù…Ùˆ ÙÙ„Ø§Ø­</title>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6c63ff;
            --primary-dark: #5a52d5;
            --secondary: #f64f8b;
            --accent: #00d2ff;
            --bg-dark: #0f0f1a;
            --bg-card: rgba(255,255,255,0.05);
            --bg-card-hover: rgba(255,255,255,0.09);
            --glass: rgba(255,255,255,0.08);
            --glass-border: rgba(255,255,255,0.15);
            --text-primary: #f0f0ff;
            --text-secondary: #a0a0c0;
            --text-muted: #606080;
            --success: #00d97e;
            --danger: #ff4d6d;
            --warning: #ffb703;
            --info: #48cae4;
            --font-size: 15px;
            --radius: 16px;
            --radius-sm: 10px;
            --shadow: 0 8px 32px rgba(0,0,0,0.4);
            --shadow-glow: 0 0 40px rgba(108,99,255,0.25);
        }

        * { margin:0; padding:0; box-sizing:border-box; }

        body {
            font-family: 'Vazirmatn', Tahoma, sans-serif;
            background: var(--bg-dark);
            min-height: 100vh;
            direction: rtl;
            font-size: var(--font-size);
            color: var(--text-primary);
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background:
                radial-gradient(ellipse 80% 50% at 20% 10%, rgba(108,99,255,0.18) 0%, transparent 60%),
                radial-gradient(ellipse 60% 40% at 80% 80%, rgba(246,79,139,0.12) 0%, transparent 60%),
                radial-gradient(ellipse 50% 60% at 50% 50%, rgba(0,210,255,0.06) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        body > * { position: relative; z-index: 1; }

        .page { display:none; opacity:0; }
        .page.active {
            display: block;
            animation: pageIn 0.5s cubic-bezier(.22,1,.36,1) forwards;
        }

        @keyframes pageIn {
            from { opacity:0; transform:translateY(20px); }
            to   { opacity:1; transform:translateY(0); }
        }

        /* ===== SCROLLBAR ===== */
        ::-webkit-scrollbar { width:6px; }
        ::-webkit-scrollbar-track { background: rgba(255,255,255,0.03); }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius:99px; }

        /* ===== GLASS CARD ===== */
        .glass {
            background: var(--glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
        }

        /* ===== BUTTONS ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 10px 22px;
            border: none;
            border-radius: var(--radius-sm);
            font-family: inherit;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all .25s cubic-bezier(.22,1,.36,1);
            text-decoration: none;
            white-space: nowrap;
        }

        .btn:hover { transform: translateY(-2px); }
        .btn:active { transform: translateY(0) scale(.97); }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            box-shadow: 0 4px 20px rgba(108,99,255,0.4);
        }
        .btn-primary:hover { box-shadow: 0 8px 30px rgba(108,99,255,0.6); }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
            border: 1px solid var(--glass-border);
        }
        .btn-secondary:hover { background: rgba(255,255,255,0.15); color: var(--text-primary); }

        .btn-danger {
            background: rgba(255,77,109,0.15);
            color: var(--danger);
            border: 1px solid rgba(255,77,109,0.3);
        }
        .btn-danger:hover { background: rgba(255,77,109,0.25); }

        .btn-success {
            background: rgba(0,217,126,0.15);
            color: var(--success);
            border: 1px solid rgba(0,217,126,0.3);
        }
        .btn-success:hover { background: rgba(0,217,126,0.25); }

        .btn-warning {
            background: rgba(255,183,3,0.15);
            color: var(--warning);
            border: 1px solid rgba(255,183,3,0.3);
        }
        .btn-warning:hover { background: rgba(255,183,3,0.25); }

        .btn-info {
            background: rgba(72,202,228,0.15);
            color: var(--info);
            border: 1px solid rgba(72,202,228,0.3);
        }
        .btn-info:hover { background: rgba(72,202,228,0.25); }

        .btn-block { width: 100%; padding: 14px; font-size: 15px; }

        /* ===== FORM ELEMENTS ===== */
        .form-group { margin-bottom: 20px; }
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: .5px;
        }

        .form-control {
            width: 100%;
            padding: 13px 16px;
            background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 14px;
            transition: all .3s;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            background: rgba(108,99,255,0.08);
            box-shadow: 0 0 0 3px rgba(108,99,255,0.15);
        }

        .form-control option { background: #1a1a2e; color: var(--text-primary); }
        .form-control::placeholder { color: var(--text-muted); }

        .error-msg {
            display: none;
            padding: 12px 16px;
            background: rgba(255,77,109,0.15);
            border: 1px solid rgba(255,77,109,0.3);
            border-radius: var(--radius-sm);
            color: var(--danger);
            font-size: 13px;
            margin-bottom: 16px;
        }
        .error-msg.show { display:block; animation: shake .4s; }

        @keyframes shake {
            0%,100%{transform:translateX(0)}
            25%{transform:translateX(-8px)}
            75%{transform:translateX(8px)}
        }

        .hidden { display:none !important; }

        /* ===== LOGIN PAGE ===== */
        .login-wrap {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .login-card {
            width: 100%;
            max-width: 460px;
            padding: 48px 40px;
            animation: slideDown .6s cubic-bezier(.22,1,.36,1);
        }

        @keyframes slideDown {
            from { opacity:0; transform:translateY(-40px); }
            to   { opacity:1; transform:translateY(0); }
        }

        .login-logo {
            text-align: center;
            margin-bottom: 36px;
        }

        .login-logo .logo-icon {
            width: 72px;
            height: 72px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 20px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            margin-bottom: 16px;
            box-shadow: 0 8px 32px rgba(108,99,255,0.5);
        }

        .login-logo h1 {
            font-size: 26px;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 6px;
        }

        .login-logo p {
            color: var(--text-muted);
            font-size: 14px;
        }

        /* ===== USER PAGE NAVBAR ===== */
        .navbar {
            padding: 16px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(15,15,26,0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
        }

        .nav-inner {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 16px;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .nav-brand .brand-icon {
            width: 38px;
            height: 38px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .nav-brand h2 {
            font-size: 17px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .nav-brand span {
            color: var(--primary);
        }

        /* ===== CONTENT AREA ===== */
        .content-wrap {
            max-width: 1400px;
            margin: 0 auto;
            padding: 48px 24px;
        }

        .page-hero {
            text-align: center;
            margin-bottom: 56px;
        }

        .page-hero h1 {
            font-size: 40px;
            font-weight: 800;
            background: linear-gradient(135deg, #fff 0%, var(--primary) 50%, var(--accent) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 12px;
            line-height: 1.2;
        }

        .page-hero p {
            color: var(--text-muted);
            font-size: 16px;
        }

        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px,1fr));
            gap: 28px;
        }

        /* ===== CONTENT CARDS ===== */
        .content-item {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            overflow: hidden;
            cursor: pointer;
            transition: all .35s cubic-bezier(.22,1,.36,1);
        }

        .content-item:hover {
            transform: translateY(-8px);
            border-color: rgba(108,99,255,0.4);
            box-shadow: var(--shadow-glow);
        }

        .content-media {
            width: 100%;
            height: 260px;
            object-fit: cover;
            display: block;
        }

        .content-body {
            padding: 22px;
        }

        .content-body h3 {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .content-body p {
            color: var(--text-secondary);
            line-height: 1.9;
            font-size: 14px;
        }

        .poem-card {
            background: linear-gradient(135deg, rgba(108,99,255,0.1), rgba(0,210,255,0.06));
            border: 1px solid rgba(108,99,255,0.25);
            border-radius: var(--radius);
            padding: 36px;
            cursor: default;
        }

        .poem-card:hover {
            transform: none;
            border-color: rgba(108,99,255,0.4);
            box-shadow: var(--shadow-glow);
        }

        .poem-card h3 {
            color: var(--primary);
            font-size: 22px;
            font-weight: 800;
            text-align: center;
            margin-bottom: 8px;
        }

        .poem-author {
            text-align: center;
            color: var(--accent);
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 24px;
        }

        .poem-text {
            color: var(--text-secondary);
            line-height: 3;
            font-size: 17px;
            white-space: pre-line;
            text-align: center;
        }

        .music-card {
            background: linear-gradient(135deg, rgba(246,79,139,0.08), rgba(108,99,255,0.08));
            border: 1px solid rgba(246,79,139,0.2);
            border-radius: var(--radius);
            padding: 28px;
            cursor: default;
        }

        .music-card:hover {
            transform: translateY(-4px);
            border-color: rgba(246,79,139,0.4);
            box-shadow: 0 0 40px rgba(246,79,139,0.15);
        }

        .music-icon {
            font-size: 40px;
            text-align: center;
            margin-bottom: 12px;
        }

        .music-card h3 {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            text-align: center;
            margin-bottom: 6px;
        }

        .music-artist {
            color: var(--text-muted);
            font-size: 13px;
            text-align: center;
            margin-bottom: 18px;
        }

        .music-card audio {
            width: 100%;
            filter: invert(1) hue-rotate(200deg);
            border-radius: 8px;
        }

        .no-content {
            grid-column: 1/-1;
            text-align: center;
            color: var(--text-muted);
            font-size: 16px;
            padding: 80px 20px;
        }

        .no-content::before {
            content: 'ğŸ“­';
            display: block;
            font-size: 48px;
            margin-bottom: 16px;
        }

        /* ===== ZOOM MODAL ===== */
        .zoom-modal {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 9999;
            background: rgba(0,0,0,0.95);
            animation: fadeIn .3s;
        }

        .zoom-modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        @keyframes fadeIn { from{opacity:0} to{opacity:1} }

        .zoom-inner {
            max-width: 92%;
            max-height: 92%;
            animation: zoomIn .4s cubic-bezier(.22,1,.36,1);
        }

        @keyframes zoomIn {
            from{transform:scale(.7);opacity:0}
            to{transform:scale(1);opacity:1}
        }

        .zoom-inner img,
        .zoom-inner video {
            max-width:100%;
            max-height:90vh;
            border-radius:12px;
        }

        .zoom-close {
            position: absolute;
            top: 24px;
            right: 28px;
            width: 48px;
            height: 48px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 22px;
            cursor: pointer;
            transition: all .3s;
        }

        .zoom-close:hover {
            background: rgba(255,255,255,0.2);
            transform: rotate(90deg) scale(1.1);
        }

        /* ===== FOOTER ===== */
        .site-footer {
            background: rgba(255,255,255,0.03);
            border-top: 1px solid var(--glass-border);
            padding: 56px 24px;
            margin-top: 80px;
        }

        .footer-inner {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px,1fr));
            gap: 40px;
        }

        .footer-col h3 {
            color: var(--primary);
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .footer-col p {
            color: var(--text-muted);
            line-height: 2;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .social-links {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .social-link {
            padding: 8px 18px;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            transition: all .3s;
        }

        .social-link:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            transform: translateY(-2px);
        }

        .contact-link {
            display: block;
            color: var(--text-muted);
            text-decoration: none;
            margin-bottom: 8px;
            font-size: 14px;
            transition: color .3s;
        }

        .contact-link:hover { color: var(--primary); }

        /* ===== SUPPORT BOX ===== */
        .support-wrap {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px 60px;
        }

        .support-box {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: 36px;
        }

        .support-box h3 {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .messages-box {
            max-height: 380px;
            overflow-y: auto;
            margin-bottom: 24px;
            padding: 20px;
            background: rgba(0,0,0,0.25);
            border-radius: var(--radius-sm);
            border: 1px solid rgba(255,255,255,0.05);
        }

        .message {
            margin-bottom: 16px;
            padding: 14px 18px;
            border-radius: var(--radius-sm);
            animation: msgIn .3s ease;
        }

        @keyframes msgIn {
            from{opacity:0;transform:translateX(-16px)}
            to{opacity:1;transform:translateX(0)}
        }

        .message.user {
            background: rgba(108,99,255,0.12);
            border: 1px solid rgba(108,99,255,0.2);
            margin-left: 40px;
        }

        .message.admin {
            background: rgba(246,79,139,0.08);
            border: 1px solid rgba(246,79,139,0.2);
            margin-right: 40px;
        }

        .msg-header {
            font-size: 12px;
            font-weight: 700;
            color: var(--text-muted);
            margin-bottom: 6px;
            text-transform: uppercase;
        }

        .msg-text { color: var(--text-secondary); line-height: 1.8; font-size: 14px; }
        .msg-time { font-size: 11px; color: var(--text-muted); margin-top: 6px; }

        .support-form-row {
            display: flex;
            gap: 12px;
        }

        .support-form-row textarea {
            flex: 1;
            min-height: 60px;
            resize: vertical;
        }

        .support-form-row .btn { align-self: flex-end; }

        /* ===== ADMIN PANEL ===== */
        .admin-layout {
            display: flex;
            min-height: calc(100vh - 65px);
        }

        /* Admin Navbar */
        .admin-navbar {
            background: rgba(15,15,26,0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            padding: 14px 28px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 200;
        }

        .admin-brand {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .admin-brand .brand-pill {
            padding: 6px 14px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 99px;
            font-size: 12px;
            font-weight: 700;
            color: white;
            letter-spacing: .5px;
        }

        .admin-brand h2 {
            font-size: 17px;
            font-weight: 700;
            color: var(--text-primary);
        }

        /* Admin Sidebar */
        .admin-sidebar {
            width: 260px;
            flex-shrink: 0;
            background: rgba(255,255,255,0.025);
            border-left: 1px solid var(--glass-border);
            padding: 28px 0;
            overflow-y: auto;
        }

        .sidebar-title {
            padding: 0 20px;
            font-size: 11px;
            font-weight: 700;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 12px;
        }

        .sidebar-divider {
            height: 1px;
            background: var(--glass-border);
            margin: 16px 20px;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: var(--text-muted);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            transition: all .25s;
            border-right: 3px solid transparent;
            cursor: pointer;
        }

        .menu-item:hover {
            color: var(--text-primary);
            background: rgba(255,255,255,0.04);
            padding-right: 25px;
        }

        .menu-item.active {
            color: var(--primary);
            background: rgba(108,99,255,0.1);
            border-right-color: var(--primary);
            font-weight: 700;
        }

        .menu-item .menu-icon {
            font-size: 16px;
            width: 20px;
            text-align: center;
        }

        /* Admin Main */
        .admin-main {
            flex: 1;
            background: rgba(0,0,0,0.2);
            overflow-y: auto;
            padding: 36px;
        }

        .admin-section { display:none; }
        .admin-section.active {
            display: block;
            animation: sectionIn .4s cubic-bezier(.22,1,.36,1);
        }

        @keyframes sectionIn {
            from{opacity:0;transform:translateY(16px)}
            to{opacity:1;transform:translateY(0)}
        }

        .section-header {
            margin-bottom: 32px;
        }

        .section-header h2 {
            font-size: 26px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 6px;
        }

        .section-header p {
            color: var(--text-muted);
            font-size: 14px;
        }

        .section-divider {
            height: 1px;
            background: linear-gradient(to left, var(--primary), transparent);
            margin-bottom: 32px;
        }

        /* Upload Form */
        .upload-form-wrap {
            max-width: 680px;
        }

        .file-drop {
            border: 2px dashed rgba(255,255,255,0.12);
            border-radius: var(--radius-sm);
            padding: 28px;
            text-align: center;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all .3s;
            cursor: pointer;
            margin-top: 10px;
        }

        .file-drop:hover {
            border-color: var(--primary);
            background: rgba(108,99,255,0.06);
        }

        .file-drop img,
        .file-drop video,
        .file-drop audio {
            max-width: 100%;
            max-height: 280px;
            border-radius: 10px;
        }

        .file-drop .drop-text {
            color: var(--text-muted);
            font-size: 14px;
        }

        .file-drop .drop-icon {
            font-size: 36px;
            margin-bottom: 10px;
        }

        /* Manage Grid */
        .manage-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px,1fr));
            gap: 20px;
        }

        .manage-card {
            background: rgba(255,255,255,0.04);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            overflow: hidden;
            transition: all .3s;
        }

        .manage-card:hover {
            border-color: rgba(108,99,255,0.3);
            transform: translateY(-4px);
        }

        .manage-card-media {
            width: 100%;
            height: 180px;
            object-fit: cover;
        }

        .manage-card-body { padding: 18px; }
        .manage-card-body h4 {
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 6px;
        }
        .manage-card-body p {
            color: var(--text-muted);
            font-size: 13px;
            line-height: 1.7;
            margin-bottom: 14px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .manage-card-actions {
            display: flex;
            gap: 8px;
        }

        .poem-manage-card {
            background: linear-gradient(135deg, rgba(108,99,255,0.08), rgba(0,210,255,0.04));
            border-color: rgba(108,99,255,0.2);
        }

        .poem-manage-card h4 { color: var(--primary); }

        .poem-preview-text {
            color: var(--text-muted);
            font-size: 13px;
            line-height: 2.2;
            margin-bottom: 14px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            white-space: pre-line;
        }

        /* Settings Grid */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 28px;
        }

        .settings-card {
            background: rgba(255,255,255,0.04);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: 24px;
            transition: all .3s;
        }

        .settings-card:hover { border-color: rgba(108,99,255,0.3); }

        .settings-card h3 {
            font-size: 15px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .color-row {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 14px;
        }

        .color-row label { color: var(--text-secondary); font-size: 13px; flex: 1; }

        .color-row input[type="color"] {
            width: 52px;
            height: 40px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            padding: 2px;
            background: rgba(255,255,255,0.1);
        }

        .color-val {
            font-size: 12px;
            color: var(--text-muted);
            font-family: monospace;
            width: 64px;
        }

        /* Users Table */
        .table-wrap {
            overflow-x: auto;
            border-radius: var(--radius);
            border: 1px solid var(--glass-border);
        }

        .users-table {
            width: 100%;
            border-collapse: collapse;
        }

        .users-table th,
        .users-table td {
            padding: 16px 20px;
            text-align: right;
        }

        .users-table th {
            background: rgba(108,99,255,0.15);
            color: var(--primary);
            font-size: 13px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: .5px;
            border-bottom: 1px solid var(--glass-border);
        }

        .users-table td {
            color: var(--text-secondary);
            font-size: 14px;
            border-bottom: 1px solid rgba(255,255,255,0.04);
        }

        .users-table tr:last-child td { border-bottom: none; }
        .users-table tr:hover td { background: rgba(255,255,255,0.03); }

        /* Font Control - Admin Only */
        .font-control {
            position: fixed;
            bottom: 28px;
            left: 28px;
            background: rgba(15,15,26,0.9);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            padding: 12px 16px;
            border-radius: 14px;
            z-index: 1000;
            display: flex;
            gap: 8px;
            align-items: center;
            box-shadow: var(--shadow);
        }

        .font-control span {
            color: var(--text-muted);
            font-size: 12px;
            font-weight: 600;
            margin-left: 4px;
        }

        .font-btn {
            width: 34px;
            height: 34px;
            background: rgba(108,99,255,0.15);
            border: 1px solid rgba(108,99,255,0.3);
            color: var(--primary);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 700;
            font-size: 16px;
            transition: all .25s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .font-btn:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        /* Admin Support */
        .reply-form-row {
            display: flex;
            gap: 10px;
            margin-top: 16px;
        }

        .reply-form-row textarea {
            flex: 1;
            min-height: 64px;
            resize: vertical;
        }

        .user-convo {
            background: rgba(0,0,0,0.25);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: 24px;
            margin-bottom: 24px;
        }

        .user-convo-header {
            font-size: 15px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-convo-header span {
            color: var(--text-muted);
            font-size: 12px;
            font-weight: 400;
        }

        /* Badges / Tags */
        .badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 99px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: .5px;
        }

        .badge-primary { background: rgba(108,99,255,0.2); color: var(--primary); border: 1px solid rgba(108,99,255,0.3); }
        .badge-success { background: rgba(0,217,126,0.15); color: var(--success); border: 1px solid rgba(0,217,126,0.25); }
        .badge-secondary { background: rgba(255,255,255,0.07); color: var(--text-muted); border: 1px solid var(--glass-border); }

        /* Stats cards for admin */
        .stats-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px,1fr));
            gap: 16px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: rgba(255,255,255,0.04);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: 22px;
            text-align: center;
            transition: all .3s;
        }

        .stat-card:hover { border-color: rgba(108,99,255,0.3); transform: translateY(-2px); }
        .stat-card .stat-icon { font-size: 28px; margin-bottom: 8px; }
        .stat-card .stat-num { font-size: 28px; font-weight: 800; color: var(--primary); }
        .stat-card .stat-label { font-size: 12px; color: var(--text-muted); margin-top: 4px; }

        /* Responsive */
        @media (max-width:768px) {
            .admin-layout { flex-direction: column; }
            .admin-sidebar { width:100%; }
            .admin-main { padding:20px; }
            .content-grid { grid-template-columns:1fr; }
            .support-form-row { flex-direction: column; }
            .nav-inner { flex-wrap: wrap; }
            .settings-grid { grid-template-columns:1fr; }
            .login-card { padding: 32px 24px; }
        }

        @media (max-width:480px) {
            .manage-grid { grid-template-columns:1fr; }
            .users-table th, .users-table td { padding:10px 12px; font-size:13px; }
            .page-hero h1 { font-size:28px; }
        }
    </style>
</head>
<body>

<!-- Font Control - ADMIN ONLY -->
<div id="fontControl" class="font-control hidden">
    <span>ÙÙˆÙ†Øª</span>
    <button class="font-btn" onclick="decreaseFontSize()" title="Ú©ÙˆÚ†Ú©ØªØ±">âˆ’</button>
    <button class="font-btn" onclick="increaseFontSize()" title="Ø¨Ø²Ø±Ú¯ØªØ±">+</button>
</div>

<!-- Zoom Modal -->
<div id="zoomModal" class="zoom-modal">
    <div class="zoom-close" id="zoomClose">âœ•</div>
    <div class="zoom-inner" id="zoomContent"></div>
</div>

<!-- ===== LOGIN PAGE ===== -->
<div id="loginPage" class="page active">
    <div class="login-wrap">
        <div class="glass login-card">
            <div class="login-logo">
                <div class="logo-icon">ğŸ™</div>
                <h1>Ú©Ø§Ù†Ø§Ù„ Ø¹Ù…Ùˆ ÙÙ„Ø§Ø­</h1>
                <p>Ø¨Ø±Ø§ÛŒ ÙˆØ±ÙˆØ¯ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</p>
            </div>

            <form id="loginForm">
                <div class="form-group">
                    <label for="firstName">Ù†Ø§Ù…</label>
                    <input type="text" id="firstName" class="form-control" required autocomplete="off" placeholder="Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                </div>
                <div class="form-group">
                    <label for="lastName">Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
                    <input type="text" id="lastName" class="form-control" required autocomplete="off" placeholder="Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                </div>
                <div class="form-group">
                    <label for="phone">Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†</label>
                    <input type="tel" id="phone" class="form-control" pattern="[0-9]{11}" placeholder="09123456789" required autocomplete="off">
                </div>
                <div id="adminCodeSection" class="form-group hidden">
                    <label for="adminCode">Ú©Ø¯ Ø§Ù…Ù†ÛŒØªÛŒ Ø§Ø¯Ù…ÛŒÙ†</label>
                    <input type="password" id="adminCode" class="form-control" autocomplete="new-password" placeholder="Ú©Ø¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                </div>
                <div id="errorMessage" class="error-msg"></div>
                <button type="submit" class="btn btn-primary btn-block">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…</button>
            </form>
        </div>
    </div>
</div>

<!-- ===== USER PAGE ===== -->
<div id="userPage" class="page">
    <nav class="navbar">
        <div class="nav-inner">
            <div class="nav-brand">
                <div class="brand-icon">ğŸ™</div>
                <h2>Ú©Ø§Ù†Ø§Ù„ Ø¹Ù…Ùˆ ÙÙ„Ø§Ø­ &nbsp;<span id="userNameDisplay"></span></h2>
            </div>
            <div id="userNavButtons"></div>
        </div>
    </nav>

    <div class="content-wrap">
        <div class="page-hero">
            <h1 id="pageTitleText">Ù…Ø­ØªÙˆØ§ÛŒ Ú©Ø§Ù†Ø§Ù„</h1>
            <p>Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ† Ù…Ø­ØªÙˆØ§Ù‡Ø§ Ùˆ Ø¢Ø«Ø§Ø± Ø§Ø±Ø²Ø´Ù…Ù†Ø¯</p>
        </div>
        <div id="contentDisplay" class="content-grid">
            <div class="no-content">Ù‡Ù†ÙˆØ² Ù…Ø­ØªÙˆØ§ÛŒÛŒ Ø§Ø¶Ø§ÙÙ‡ Ù†Ø´Ø¯Ù‡</div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="footer-inner" id="footerContent">
            <div class="footer-col">
                <h3>Ú©Ø§Ù†Ø§Ù„ Ø¹Ù…Ùˆ ÙÙ„Ø§Ø­</h3>
                <p>Ù…Ø­ØªÙˆØ§ÛŒ Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ Ùˆ Ø¢Ù…ÙˆØ²Ù†Ø¯Ù‡</p>
            </div>
        </div>
    </footer>

    <div class="support-wrap">
        <div class="support-box">
            <h3>ğŸ’¬ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</h3>
            <div class="messages-box" id="messagesContainer">
                <div style="text-align:center; color:var(--text-muted); font-size:14px; padding:20px 0">Ù‡Ù†ÙˆØ² Ù¾ÛŒØ§Ù…ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</div>
            </div>
            <form class="support-form-row" id="supportForm">
                <textarea id="supportMessage" class="form-control" placeholder="Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..." required></textarea>
                <button type="submit" class="btn btn-primary">Ø§Ø±Ø³Ø§Ù„</button>
            </form>
        </div>
    </div>
</div>

<!-- ===== ADMIN PAGE ===== -->
<div id="adminPage" class="page">
    <div class="admin-navbar">
        <div class="admin-brand">
            <div class="brand-pill">ADMIN</div>
            <h2>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª â€” <span style="color:var(--primary)" id="adminNameDisplay"></span></h2>
        </div>
        <div style="display:flex;gap:10px;align-items:center">
            <button id="viewSiteBtn" class="btn btn-info">ğŸŒ Ø¯ÛŒØ¯Ù† Ø³Ø§ÛŒØª</button>
        </div>
    </div>

    <div class="admin-layout">
        <aside class="admin-sidebar">
            <div class="sidebar-title">Ù…Ø­ØªÙˆØ§</div>
            <a href="#" class="menu-item active" data-section="upload"><span class="menu-icon">ğŸ“·</span> Ø§ÙØ²ÙˆØ¯Ù† ØªØµÙˆÛŒØ±/ÙˆÛŒØ¯ÛŒÙˆ</a>
            <a href="#" class="menu-item" data-section="poem"><span class="menu-icon">ğŸ“</span> Ø§ÙØ²ÙˆØ¯Ù† Ø´Ø¹Ø±</a>
            <a href="#" class="menu-item" data-section="music"><span class="menu-icon">ğŸµ</span> Ø§ÙØ²ÙˆØ¯Ù† Ù…ÙˆØ²ÛŒÚ©</a>
            <a href="#" class="menu-item" data-section="manage"><span class="menu-icon">ğŸ“</span> Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§Ù‡Ø§</a>
            <div class="sidebar-divider"></div>
            <div class="sidebar-title">Ø¸Ø§Ù‡Ø±</div>
            <a href="#" class="menu-item" data-section="settings"><span class="menu-icon">âš™ï¸</span> ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³Ø§ÛŒØª</a>
            <a href="#" class="menu-item" data-section="footer"><span class="menu-icon">ğŸ”—</span> ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙÙˆØªØ±</a>
            <a href="#" class="menu-item" data-section="advanced"><span class="menu-icon">ğŸ¨</span> ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</a>
            <div class="sidebar-divider"></div>
            <div class="sidebar-title">Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</div>
            <a href="#" class="menu-item" data-section="support"><span class="menu-icon">ğŸ’¬</span> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</a>
            <a href="#" class="menu-item" data-section="users"><span class="menu-icon">ğŸ‘¥</span> Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</a>
        </aside>

        <main class="admin-main">

            <!-- Upload Section -->
            <div id="uploadSection" class="admin-section active">
                <div class="section-header">
                    <h2>ğŸ“· Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø­ØªÙˆØ§ÛŒ Ø¬Ø¯ÛŒØ¯</h2>
                    <p>ØªØµÙˆÛŒØ± ÛŒØ§ ÙˆÛŒØ¯ÛŒÙˆ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯</p>
                </div>
                <div class="section-divider"></div>
                <form id="uploadForm" class="upload-form-wrap">
                    <div class="form-group">
                        <label>Ù†ÙˆØ¹ Ù…Ø­ØªÙˆØ§</label>
                        <select id="contentType" class="form-control" required>
                            <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                            <option value="image">ğŸ–¼ ØªØµÙˆÛŒØ±</option>
                            <option value="video">ğŸ¬ ÙˆÛŒØ¯ÛŒÙˆ</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>ÙØ§ÛŒÙ„</label>
                        <input type="file" id="fileInput" class="form-control" accept="image/*,video/*" required>
                        <div id="filePreview" class="file-drop">
                            <div>
                                <div class="drop-icon">ğŸ“</div>
                                <div class="drop-text">ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Ø¹Ù†ÙˆØ§Ù†</label>
                        <input type="text" id="contentTitle" class="form-control" required placeholder="Ø¹Ù†ÙˆØ§Ù† Ù…Ø­ØªÙˆØ§ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                    </div>
                    <div class="form-group">
                        <label>ØªÙˆØ¶ÛŒØ­Ø§Øª</label>
                        <textarea id="contentDescription" class="form-control" rows="4" required placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ù…Ø­ØªÙˆØ§..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ù…Ø­ØªÙˆØ§</button>
                </form>
            </div>

            <!-- Poem Section -->
            <div id="poemSection" class="admin-section">
                <div class="section-header">
                    <h2>ğŸ“ Ø§ÙØ²ÙˆØ¯Ù† Ø´Ø¹Ø± Ø¬Ø¯ÛŒØ¯</h2>
                    <p>Ø´Ø¹Ø± ÛŒØ§ Ù…ØªÙ† Ø§Ø¯Ø¨ÛŒ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯</p>
                </div>
                <div class="section-divider"></div>
                <form id="poemForm" class="upload-form-wrap">
                    <div class="form-group">
                        <label>Ø¹Ù†ÙˆØ§Ù† Ø´Ø¹Ø±</label>
                        <input type="text" id="poemTitle" class="form-control" required placeholder="Ø¹Ù†ÙˆØ§Ù† Ø´Ø¹Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                    </div>
                    <div class="form-group">
                        <label>Ø´Ø§Ø¹Ø± (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
                        <input type="text" id="poemAuthor" class="form-control" placeholder="Ù†Ø§Ù… Ø´Ø§Ø¹Ø±">
                    </div>
                    <div class="form-group">
                        <label>Ù…ØªÙ† Ø´Ø¹Ø±</label>
                        <textarea id="poemText" class="form-control" rows="12" placeholder="Ù‡Ø± Ø¨ÛŒØª Ø±Ø§ Ø¯Ø± ÛŒÚ© Ø®Ø· Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..." required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¹Ø±</button>
                </form>
            </div>

            <!-- Music Section -->
            <div id="musicSection" class="admin-section">
                <div class="section-header">
                    <h2>ğŸµ Ø§ÙØ²ÙˆØ¯Ù† Ù…ÙˆØ²ÛŒÚ© Ø¬Ø¯ÛŒØ¯</h2>
                    <p>ÙØ§ÛŒÙ„ ØµÙˆØªÛŒ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯</p>
                </div>
                <div class="section-divider"></div>
                <form id="musicForm" class="upload-form-wrap">
                    <div class="form-group">
                        <label>ÙØ§ÛŒÙ„ Ù…ÙˆØ²ÛŒÚ©</label>
                        <input type="file" id="musicFile" class="form-control" accept="audio/*" required>
                        <div id="musicPreview" class="file-drop">
                            <div>
                                <div class="drop-icon">ğŸµ</div>
                                <div class="drop-text">ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Ø¹Ù†ÙˆØ§Ù† Ù…ÙˆØ²ÛŒÚ©</label>
                        <input type="text" id="musicTitle" class="form-control" required placeholder="Ø¹Ù†ÙˆØ§Ù† Ù…ÙˆØ²ÛŒÚ© Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                    </div>
                    <div class="form-group">
                        <label>Ø®ÙˆØ§Ù†Ù†Ø¯Ù‡ / Ø³Ø§Ø²Ù†Ø¯Ù‡ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
                        <input type="text" id="musicArtist" class="form-control" placeholder="Ù†Ø§Ù… Ø®ÙˆØ§Ù†Ù†Ø¯Ù‡ ÛŒØ§ Ø³Ø§Ø²Ù†Ø¯Ù‡">
                    </div>
                    <button type="submit" class="btn btn-primary">ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ù…ÙˆØ²ÛŒÚ©</button>
                </form>
            </div>

            <!-- Manage Section -->
            <div id="manageSection" class="admin-section">
                <div class="section-header">
                    <h2>ğŸ“ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø­ØªÙˆØ§Ù‡Ø§</h2>
                    <p>ÙˆÛŒØ±Ø§ÛŒØ´ Ùˆ Ø­Ø°Ù Ù…Ø­ØªÙˆØ§Ù‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯</p>
                </div>
                <div class="section-divider"></div>
                <div id="contentList" class="manage-grid">
                    <div class="no-content">Ù…Ø­ØªÙˆØ§ÛŒÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</div>
                </div>
            </div>

            <!-- Settings Section -->
            <div id="settingsSection" class="admin-section">
                <div class="section-header">
                    <h2>âš™ï¸ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¸Ø§Ù‡Ø±ÛŒ</h2>
                    <p>Ø´Ø®ØµÛŒâ€ŒØ³Ø§Ø²ÛŒ Ø¸Ø§Ù‡Ø± Ø³Ø§ÛŒØª</p>
                </div>
                <div class="section-divider"></div>
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>ğŸ“ Ù…ØªÙ†â€ŒÙ‡Ø§ÛŒ Ø³Ø§ÛŒØª</h3>
                        <div class="form-group">
                            <label>Ø¹Ù†ÙˆØ§Ù† ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ</label>
                            <input type="text" id="titleText" class="form-control" placeholder="Ù…Ø­ØªÙˆØ§ÛŒ Ú©Ø§Ù†Ø§Ù„">
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>ğŸ¨ Ø±Ù†Ú¯â€ŒØ¨Ù†Ø¯ÛŒ</h3>
                        <div class="color-row">
                            <label>Ú¯Ø±Ø§Ø¯ÛŒØ§Ù†Øª Û±</label>
                            <input type="color" id="gradientColor1" value="#667eea">
                            <span class="color-val" id="gradientColor1Value">#667eea</span>
                        </div>
                        <div class="color-row">
                            <label>Ú¯Ø±Ø§Ø¯ÛŒØ§Ù†Øª Û²</label>
                            <input type="color" id="gradientColor2" value="#764ba2">
                            <span class="color-val" id="gradientColor2Value">#764ba2</span>
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>ğŸ“ Ú†ÛŒØ¯Ù…Ø§Ù†</h3>
                        <div class="form-group">
                            <label>ØªØ¹Ø¯Ø§Ø¯ Ø³ØªÙˆÙ†â€ŒÙ‡Ø§</label>
                            <select id="gridColumns" class="form-control">
                                <option value="2">Û² Ø³ØªÙˆÙ†</option>
                                <option value="3" selected>Û³ Ø³ØªÙˆÙ†</option>
                                <option value="4">Û´ Ø³ØªÙˆÙ†</option>
                            </select>
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>ğŸ–¼ Ø§Ø±ØªÙØ§Ø¹ ØªØµØ§ÙˆÛŒØ±</h3>
                        <div class="form-group">
                            <label>Ø§Ø±ØªÙØ§Ø¹ (Ù¾ÛŒÚ©Ø³Ù„)</label>
                            <input type="number" id="imageHeight" class="form-control" min="180" max="500" value="260" placeholder="260">
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="saveSettings()">ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª</button>
            </div>

            <!-- Footer Section -->
            <div id="footerSection" class="admin-section">
                <div class="section-header">
                    <h2>ğŸ”— Ù…Ø¯ÛŒØ±ÛŒØª ÙÙˆØªØ±</h2>
                    <p>Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³ Ùˆ Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ</p>
                </div>
                <div class="section-divider"></div>
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>â„¹ï¸ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</h3>
                        <div class="form-group">
                            <label>Ù…ØªÙ† Ø¯Ø±Ø¨Ø§Ø±Ù‡</label>
                            <textarea id="footerAbout" class="form-control" rows="4" placeholder="Ù…ØªÙ† Ù…Ø¹Ø±ÙÛŒ Ú©Ø§Ù†Ø§Ù„..."></textarea>
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>ğŸ“ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³</h3>
                        <div class="form-group">
                            <label>Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†</label>
                            <input type="tel" id="footerPhone" class="form-control" placeholder="09123456789">
                        </div>
                        <div class="form-group">
                            <label>Ø§ÛŒÙ…ÛŒÙ„</label>
                            <input type="email" id="footerEmail" class="form-control" placeholder="info@example.com">
                        </div>
                        <div class="form-group">
                            <label>Ø¢Ø¯Ø±Ø³</label>
                            <input type="text" id="footerAddress" class="form-control" placeholder="Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„">
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>ğŸ“± Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ</h3>
                        <div class="form-group">
                            <label>Ø§ÛŒØªØ§</label>
                            <input type="url" id="socialEita" class="form-control" placeholder="https://eitaa.com/...">
                        </div>
                        <div class="form-group">
                            <label>ØªÙ„Ú¯Ø±Ø§Ù…</label>
                            <input type="url" id="socialTelegram" class="form-control" placeholder="https://t.me/...">
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>ğŸ“² Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ (Ø§Ø¯Ø§Ù…Ù‡)</h3>
                        <div class="form-group">
                            <label>Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…</label>
                            <input type="url" id="socialInstagram" class="form-control" placeholder="https://instagram.com/...">
                        </div>
                        <div class="form-group">
                            <label>ÙˆØ§ØªØ³Ø§Ù¾</label>
                            <input type="url" id="socialWhatsapp" class="form-control" placeholder="https://wa.me/...">
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="saveFooterSettings()">ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙÙˆØªØ±</button>
            </div>

            <!-- Advanced Section -->
            <div id="advancedSection" class="admin-section">
                <div class="section-header">
                    <h2>ğŸ¨ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</h2>
                    <p>Ú©Ù†ØªØ±Ù„ Ø¯Ù‚ÛŒÙ‚â€ŒØªØ± Ø¸Ø§Ù‡Ø± Ø³Ø§ÛŒØª</p>
                </div>
                <div class="section-divider"></div>
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>âœ¨ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§</h3>
                        <div class="form-group">
                            <label>Ø³Ø±Ø¹Øª Ø§Ù†ÛŒÙ…ÛŒØ´Ù†</label>
                            <select id="animationSpeed" class="form-control">
                                <option value="slow">Ø¢Ø±Ø§Ù…</option>
                                <option value="normal" selected>Ø¹Ø§Ø¯ÛŒ</option>
                                <option value="fast">Ø³Ø±ÛŒØ¹</option>
                            </select>
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>ğŸ“ ÙØ§ØµÙ„Ù‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ</h3>
                        <div class="form-group">
                            <label>ÙØ§ØµÙ„Ù‡ Ø¨ÛŒÙ† Ø§Ù„Ù…Ø§Ù†â€ŒÙ‡Ø§ (Ù¾ÛŒÚ©Ø³Ù„)</label>
                            <input type="number" id="spacing" class="form-control" min="10" max="60" value="28" placeholder="28">
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>ğŸ”² Ú¯ÙˆØ´Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ø±Ø¯</h3>
                        <div class="form-group">
                            <label>Ø´Ø¹Ø§Ø¹ (Ù¾ÛŒÚ©Ø³Ù„)</label>
                            <input type="number" id="borderRadius" class="form-control" min="0" max="32" value="16" placeholder="16">
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>ğŸŒ“ Ø³Ø§ÛŒÙ‡â€ŒÙ‡Ø§</h3>
                        <div class="form-group">
                            <label>Ø´Ø¯Øª Ø³Ø§ÛŒÙ‡</label>
                            <select id="shadowIntensity" class="form-control">
                                <option value="light">Ú©Ù…</option>
                                <option value="medium" selected>Ù…ØªÙˆØ³Ø·</option>
                                <option value="strong">Ø²ÛŒØ§Ø¯</option>
                            </select>
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="saveAdvancedSettings()">ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡</button>
            </div>

            <!-- Support Section -->
            <div id="supportSection" class="admin-section">
                <div class="section-header">
                    <h2>ğŸ’¬ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h2>
                    <p>Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡</p>
                </div>
                <div class="section-divider"></div>
                <div id="adminMessagesContainer">
                    <div style="text-align:center;color:var(--text-muted);padding:40px 0">Ù¾ÛŒØ§Ù…ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</div>
                </div>
            </div>

            <!-- Users Section -->
            <div id="usersSection" class="admin-section">
                <div class="section-header">
                    <h2>ğŸ‘¥ Ù„ÛŒØ³Øª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h2>
                    <p>Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø´Ø¯Ú¯Ø§Ù†</p>
                </div>
                <div class="section-divider"></div>
                <div id="statsRowContainer" class="stats-row"></div>
                <div class="table-wrap">
                    <table class="users-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Ù†Ø§Ù…</th>
                                <th>Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</th>
                                <th>Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ†</th>
                                <th>ØªØ§Ø±ÛŒØ® Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</th>
                                <th>Ù†ÙˆØ¹</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <tr><td colspan="6" style="text-align:center;color:var(--text-muted);padding:28px">Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

        </main>
    </div>
</div>

<script>
// ===== CONFIG =====
const ADMIN_CONFIG = {
    name: 'Ø­Ø³Ù†',
    lastname: 'ÙÙ„Ø§Ø­',
    phone: '09188197097',
    code: 'ABC1213149087HAS'
};

const SPECIAL_USER = {
    name: 'Ø§Ù…ÛŒØ± Ø­Ø³ÛŒÙ†',
    lastname: 'Ù†Ø§Ø¯Ø±ÛŒ'
};

// ===== ELEMENTS =====
const pages = {
    login: document.getElementById('loginPage'),
    user:  document.getElementById('userPage'),
    admin: document.getElementById('adminPage')
};

const loginForm       = document.getElementById('loginForm');
const firstNameInput  = document.getElementById('firstName');
const lastNameInput   = document.getElementById('lastName');
const phoneInput      = document.getElementById('phone');
const adminCodeSection= document.getElementById('adminCodeSection');
const adminCodeInput  = document.getElementById('adminCode');
const errorMessage    = document.getElementById('errorMessage');
const fontControl     = document.getElementById('fontControl');

// ===== ZOOM MODAL =====
const zoomModal   = document.getElementById('zoomModal');
const zoomContent = document.getElementById('zoomContent');
const zoomClose   = document.getElementById('zoomClose');

zoomClose.onclick = closeZoomModal;
zoomModal.addEventListener('click', (e) => { if(e.target === zoomModal) closeZoomModal(); });

function closeZoomModal() {
    zoomModal.classList.remove('active');
    zoomContent.innerHTML = '';
}

function openZoom(element, type) {
    if (type === 'image') {
        zoomContent.innerHTML = `<img src="${element.src}" alt="zoom">`;
    } else if (type === 'video') {
        zoomContent.innerHTML = `<video src="${element.src}" controls autoplay></video>`;
    }
    zoomModal.classList.add('active');
}

// ===== FONT SIZE (Admin Only) =====
function increaseFontSize() {
    const current = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--font-size')) || 15;
    if (current < 22) {
        const next = current + 2;
        document.documentElement.style.setProperty('--font-size', next + 'px');
        localStorage.setItem('adminFontSize', next);
    }
}

function decreaseFontSize() {
    const current = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--font-size')) || 15;
    if (current > 11) {
        const next = current - 2;
        document.documentElement.style.setProperty('--font-size', next + 'px');
        localStorage.setItem('adminFontSize', next);
    }
}

// ===== PAGE SWITCH =====
function showPage(name) {
    Object.values(pages).forEach(p => p.classList.remove('active'));
    setTimeout(() => {
        pages[name].classList.add('active');
    }, 100);
}

// ===== INIT =====
window.addEventListener('DOMContentLoaded', () => {
    loadSettings();
    loadAdvancedSettings();

    const savedUser = localStorage.getItem('currentUser');
    if (savedUser) {
        const user = JSON.parse(savedUser);
        if (user.isAdmin) {
            initAdminPage(user);
        } else {
            initUserPage(user);
        }
    }
});

// ===== LOGIN =====
let loginAttempts = 0;
const MAX_ATTEMPTS = 5;

firstNameInput.addEventListener('input', checkAdminFields);
lastNameInput.addEventListener('input', checkAdminFields);

function checkAdminFields() {
    const fn = firstNameInput.value.trim();
    const ln = lastNameInput.value.trim();
    if (fn === ADMIN_CONFIG.name && ln === ADMIN_CONFIG.lastname) {
        adminCodeSection.classList.remove('hidden');
        adminCodeInput.required = true;
    } else {
        adminCodeSection.classList.add('hidden');
        adminCodeInput.required = false;
        adminCodeInput.value = '';
    }
}

loginForm.addEventListener('submit', (e) => {
    e.preventDefault();

    if (loginAttempts >= MAX_ATTEMPTS) {
        showError('ØªØ¹Ø¯Ø§Ø¯ ØªÙ„Ø§Ø´â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø¨Ù‡ Ø­Ø¯ Ù…Ø¬Ø§Ø² Ø±Ø³ÛŒØ¯Ù‡. Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.');
        setTimeout(() => { loginAttempts = 0; }, 300000);
        return;
    }

    const fn    = firstNameInput.value.trim();
    const ln    = lastNameInput.value.trim();
    const phone = phoneInput.value.trim();

    if (!/^09[0-9]{9}$/.test(phone)) {
        showError('Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Û°Û¹ Ø´Ø±ÙˆØ¹ Ø´Ø¯Ù‡ Ùˆ Û±Û± Ø±Ù‚Ù… Ø¨Ø§Ø´Ø¯');
        return;
    }

    // Admin check
    if (fn === ADMIN_CONFIG.name && ln === ADMIN_CONFIG.lastname && phone === ADMIN_CONFIG.phone) {
        const code = adminCodeInput.value;
        if (code !== ADMIN_CONFIG.code) {
            loginAttempts++;
            showError(`Ú©Ø¯ Ø§Ù…Ù†ÛŒØªÛŒ Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª (ØªÙ„Ø§Ø´ ${loginAttempts}/${MAX_ATTEMPTS})`);
            adminCodeInput.value = '';
            return;
        }
        loginAttempts = 0;
        const user = { firstName: fn, lastName: ln, phone, isAdmin: true, loginDate: new Date().toISOString() };
        localStorage.setItem('currentUser', JSON.stringify(user));
        saveUserToList(user);
        initAdminPage(user);
        loginForm.reset();
        adminCodeSection.classList.add('hidden');
        return;
    }

    // Special user
    if (fn === SPECIAL_USER.name && ln === SPECIAL_USER.lastname) {
        const user = { firstName: fn, lastName: ln, phone, isAdmin: false, isSpecial: true, loginDate: new Date().toISOString() };
        localStorage.setItem('currentUser', JSON.stringify(user));
        saveUserToList(user);
        initUserPage(user);
        loginForm.reset();
        return;
    }

    // Normal user
    const user = { firstName: fn, lastName: ln, phone, isAdmin: false, isSpecial: false, loginDate: new Date().toISOString() };
    localStorage.setItem('currentUser', JSON.stringify(user));
    saveUserToList(user);
    initUserPage(user);
    loginForm.reset();
});

function showError(msg) {
    errorMessage.textContent = msg;
    errorMessage.classList.add('show');
    setTimeout(() => errorMessage.classList.remove('show'), 5000);
}

function saveUserToList(user) {
    let users = JSON.parse(localStorage.getItem('usersList') || '[]');
    if (!users.some(u => u.phone === user.phone)) {
        users.push(user);
        localStorage.setItem('usersList', JSON.stringify(users));
    }
}

// ===== USER PAGE =====
function initUserPage(user) {
    // Hide font control for users
    fontControl.classList.add('hidden');

    document.getElementById('userNameDisplay').textContent = `${user.firstName} ${user.lastName}`;

    const btns = document.getElementById('userNavButtons');
    if (user.isSpecial) {
        btns.innerHTML = '<button id="userLogoutBtn" class="btn btn-secondary">Ø®Ø±ÙˆØ¬ Ø§Ø² Ø­Ø³Ø§Ø¨</button>';
        document.getElementById('userLogoutBtn').addEventListener('click', handleUserLogout);
    } else {
        btns.innerHTML = '';
    }

    showPage('user');
    displayContent();
    displayFooter();
    loadUserMessages(user);
}

function handleUserLogout() {
    if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø®Ø§Ø±Ø¬ Ø´ÙˆÛŒØ¯ØŸ')) {
        localStorage.removeItem('currentUser');
        showPage('login');
    }
}

// ===== ADMIN PAGE =====
function initAdminPage(user) {
    // Show font control for admin
    fontControl.classList.remove('hidden');

    const savedFontSize = localStorage.getItem('adminFontSize');
    if (savedFontSize) {
        document.documentElement.style.setProperty('--font-size', savedFontSize + 'px');
    }

    document.getElementById('adminNameDisplay').textContent = `${user.firstName} ${user.lastName}`;
    showPage('admin');
    displayContentInAdmin();
    displayUsers();
    loadAdminMessages();
    loadSettingsToForm();
    loadFooterSettingsToForm();
    loadAdvancedSettingsToForm();
}

// View site button
document.getElementById('viewSiteBtn').addEventListener('click', () => {
    const user = JSON.parse(localStorage.getItem('currentUser') || '{}');

    // Hide font control when viewing site
    fontControl.classList.add('hidden');

    document.getElementById('userNameDisplay').textContent = `${user.firstName} ${user.lastName}`;

    const btns = document.getElementById('userNavButtons');
    btns.innerHTML = '<button id="backToAdminBtn" class="btn btn-info">â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù¾Ù†Ù„</button>';
    document.getElementById('backToAdminBtn').addEventListener('click', () => {
        fontControl.classList.remove('hidden');
        showPage('admin');
    });

    displayContent();
    displayFooter();
    loadUserMessages(user);
    showPage('user');
});

// ===== ADMIN MENU =====
document.querySelectorAll('.menu-item').forEach(item => {
    item.addEventListener('click', (e) => {
        e.preventDefault();
        document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
        document.querySelectorAll('.admin-section').forEach(s => s.classList.remove('active'));
        item.classList.add('active');
        const sec = item.dataset.section;
        setTimeout(() => {
            const el = document.getElementById(`${sec}Section`);
            if (el) el.classList.add('active');
        }, 50);
        if (sec === 'manage') displayContentInAdmin();
        else if (sec === 'users') displayUsers();
        else if (sec === 'support') loadAdminMessages();
    });
});

// ===== CONTENT TYPE & FILE PREVIEW =====
const contentTypeSelect = document.getElementById('contentType');
const fileInput         = document.getElementById('fileInput');

contentTypeSelect.addEventListener('change', () => {
    const t = contentTypeSelect.value;
    fileInput.accept = t === 'image' ? 'image/*' : 'video/*';
    fileInput.value = '';
    document.getElementById('filePreview').innerHTML = '<div><div class="drop-icon">ğŸ“</div><div class="drop-text">ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡</div></div>';
});

fileInput.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (!file) return;
    const preview = document.getElementById('filePreview');
    const reader = new FileReader();
    reader.onload = (ev) => {
        const t = contentTypeSelect.value;
        preview.innerHTML = t === 'image'
            ? `<img src="${ev.target.result}" alt="preview">`
            : `<video src="${ev.target.result}" controls></video>`;
    };
    reader.readAsDataURL(file);
});

// ===== UPLOAD FORM =====
document.getElementById('uploadForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const file = fileInput.files[0];
    if (!file) { alert('Ù„Ø·ÙØ§Ù‹ ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯'); return; }
    const type  = contentTypeSelect.value;
    const title = document.getElementById('contentTitle').value.trim();
    const desc  = document.getElementById('contentDescription').value.trim();
    const reader = new FileReader();
    reader.onload = (ev) => {
        saveContent({ id: Date.now(), type, fileData: ev.target.result, title, description: desc, uploadDate: new Date().toISOString() });
        e.target.reset();
        document.getElementById('filePreview').innerHTML = '<div><div class="drop-icon">ğŸ“</div><div class="drop-text">ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡</div></div>';
        alert('Ù…Ø­ØªÙˆØ§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ…');
        displayContentInAdmin();
    };
    reader.readAsDataURL(file);
});

// ===== POEM FORM =====
document.getElementById('poemForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const title  = document.getElementById('poemTitle').value.trim();
    const author = document.getElementById('poemAuthor').value.trim();
    const text   = document.getElementById('poemText').value.trim();
    saveContent({ id: Date.now(), type: 'poem', title, author, text, uploadDate: new Date().toISOString() });
    e.target.reset();
    alert('Ø´Ø¹Ø± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ…');
    displayContentInAdmin();
});

// ===== MUSIC FORM =====
const musicFileInput = document.getElementById('musicFile');
musicFileInput.addEventListener('change', (e) => {
    const file = e.target.files[0];
    if (!file) return;
    const preview = document.getElementById('musicPreview');
    const reader = new FileReader();
    reader.onload = (ev) => {
        preview.innerHTML = `<audio src="${ev.target.result}" controls></audio>`;
    };
    reader.readAsDataURL(file);
});

document.getElementById('musicForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const file = musicFileInput.files[0];
    if (!file) { alert('Ù„Ø·ÙØ§Ù‹ ÙØ§ÛŒÙ„ Ù…ÙˆØ²ÛŒÚ© Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯'); return; }
    const title  = document.getElementById('musicTitle').value.trim();
    const artist = document.getElementById('musicArtist').value.trim();
    const reader = new FileReader();
    reader.onload = (ev) => {
        saveContent({ id: Date.now(), type: 'music', fileData: ev.target.result, title, artist, uploadDate: new Date().toISOString() });
        e.target.reset();
        document.getElementById('musicPreview').innerHTML = '<div><div class="drop-icon">ğŸµ</div><div class="drop-text">ÙØ§ÛŒÙ„ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ø´Ø¯Ù‡</div></div>';
        alert('Ù…ÙˆØ²ÛŒÚ© Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ…');
        displayContentInAdmin();
    };
    reader.readAsDataURL(file);
});

// ===== CONTENT STORAGE =====
function saveContent(content) {
    const contents = getContents();
    contents.push(content);
    localStorage.setItem('contents', JSON.stringify(contents));
}

function getContents() {
    return JSON.parse(localStorage.getItem('contents') || '[]');
}

function deleteContent(id) {
    if (!confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø§ÛŒÙ† Ù…Ø­ØªÙˆØ§ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ')) return;
    const filtered = getContents().filter(c => c.id !== id);
    localStorage.setItem('contents', JSON.stringify(filtered));
    displayContentInAdmin();
    displayContent();
}

function editContent(id) {
    const content = getContents().find(c => c.id === id);
    if (!content) return;

    if (content.type === 'poem') {
        document.getElementById('poemTitle').value  = content.title;
        document.getElementById('poemAuthor').value = content.author || '';
        document.getElementById('poemText').value   = content.text;
        switchAdminSection('poem');
    } else if (content.type === 'music') {
        document.getElementById('musicTitle').value  = content.title;
        document.getElementById('musicArtist').value = content.artist || '';
        switchAdminSection('music');
    } else {
        document.getElementById('contentType').value       = content.type;
        document.getElementById('contentTitle').value      = content.title;
        document.getElementById('contentDescription').value= content.description;
        switchAdminSection('upload');
    }

    deleteContent(id);
    alert('Ù…Ø­ØªÙˆØ§ Ø¨Ø±Ø§ÛŒ ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯. ØªØºÛŒÛŒØ±Ø§Øª Ø±Ø§ Ø§Ø¹Ù…Ø§Ù„ Ú©Ø±Ø¯Ù‡ Ùˆ Ø°Ø®ÛŒØ±Ù‡ Ú©Ù†ÛŒØ¯.');
}

function switchAdminSection(section) {
    document.querySelectorAll('.menu-item').forEach(m => m.classList.remove('active'));
    document.querySelectorAll('.admin-section').forEach(s => s.classList.remove('active'));
    const menuItem = document.querySelector(`[data-section="${section}"]`);
    if (menuItem) menuItem.classList.add('active');
    setTimeout(() => {
        const el = document.getElementById(`${section}Section`);
        if (el) el.classList.add('active');
    }, 50);
}

// ===== DISPLAY CONTENT (User) =====
function displayContent() {
    const contents  = getContents();
    const container = document.getElementById('contentDisplay');

    if (contents.length === 0) {
        container.innerHTML = '<div class="no-content">Ù‡Ù†ÙˆØ² Ù…Ø­ØªÙˆØ§ÛŒÛŒ Ø§Ø¶Ø§ÙÙ‡ Ù†Ø´Ø¯Ù‡</div>';
        return;
    }

    container.innerHTML = contents.map(c => {
        if (c.type === 'poem') {
            return `
            <div class="content-item poem-card">
                <h3>${escHtml(c.title)}</h3>
                ${c.author ? `<div class="poem-author">âœï¸ ${escHtml(c.author)}</div>` : ''}
                <p class="poem-text">${escHtml(c.text)}</p>
            </div>`;
        }
        if (c.type === 'music') {
            return `
            <div class="content-item music-card">
                <div class="music-icon">ğŸµ</div>
                <h3>${escHtml(c.title)}</h3>
                ${c.artist ? `<div class="music-artist">${escHtml(c.artist)}</div>` : ''}
                <audio src="${c.fileData}" controls></audio>
            </div>`;
        }
        return `
        <div class="content-item" onclick="openZoom(this.querySelector('.content-media'),'${c.type}')">
            ${c.type === 'image'
                ? `<img src="${c.fileData}" alt="${escHtml(c.title)}" class="content-media">`
                : `<video src="${c.fileData}" class="content-media"></video>`
            }
            <div class="content-body">
                <h3>${escHtml(c.title)}</h3>
                <p>${escHtml(c.description)}</p>
            </div>
        </div>`;
    }).join('');
}

// ===== DISPLAY CONTENT (Admin) =====
function displayContentInAdmin() {
    const contents  = getContents();
    const container = document.getElementById('contentList');

    if (contents.length === 0) {
        container.innerHTML = '<div class="no-content" style="grid-column:1/-1">Ù…Ø­ØªÙˆØ§ÛŒÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</div>';
        return;
    }

    container.innerHTML = contents.map(c => {
        if (c.type === 'poem') {
            return `
            <div class="manage-card poem-manage-card">
                <div class="manage-card-body">
                    <h4>ğŸ“ ${escHtml(c.title)}</h4>
                    ${c.author ? `<span class="badge badge-primary" style="margin-bottom:10px;display:inline-block">âœï¸ ${escHtml(c.author)}</span>` : ''}
                    <p class="poem-preview-text">${escHtml(c.text)}</p>
                    <div class="manage-card-actions">
                        <button class="btn btn-warning" onclick="editContent(${c.id})">âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´</button>
                        <button class="btn btn-danger" onclick="deleteContent(${c.id})">ğŸ—‘ Ø­Ø°Ù</button>
                    </div>
                </div>
            </div>`;
        }
        if (c.type === 'music') {
            return `
            <div class="manage-card">
                <div class="manage-card-body">
                    <h4>ğŸµ ${escHtml(c.title)}</h4>
                    ${c.artist ? `<p>${escHtml(c.artist)}</p>` : ''}
                    <audio src="${c.fileData}" controls style="width:100%;margin:12px 0;"></audio>
                    <div class="manage-card-actions">
                        <button class="btn btn-warning" onclick="editContent(${c.id})">âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´</button>
                        <button class="btn btn-danger" onclick="deleteContent(${c.id})">ğŸ—‘ Ø­Ø°Ù</button>
                    </div>
                </div>
            </div>`;
        }
        return `
        <div class="manage-card">
            ${c.type === 'image'
                ? `<img src="${c.fileData}" alt="${escHtml(c.title)}" class="manage-card-media">`
                : `<video src="${c.fileData}" class="manage-card-media"></video>`
            }
            <div class="manage-card-body">
                <h4>${escHtml(c.title)}</h4>
                <p>${escHtml(c.description)}</p>
                <div class="manage-card-actions">
                    <button class="btn btn-warning" onclick="editContent(${c.id})">âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´</button>
                    <button class="btn btn-danger" onclick="deleteContent(${c.id})">ğŸ—‘ Ø­Ø°Ù</button>
                </div>
            </div>
        </div>`;
    }).join('');
}

// ===== USERS =====
function displayUsers() {
    const users  = JSON.parse(localStorage.getItem('usersList') || '[]');
    const tbody  = document.getElementById('usersTableBody');
    const statsEl= document.getElementById('statsRowContainer');

    // Stats
    const totalContents = getContents().length;
    const totalMessages = JSON.parse(localStorage.getItem('supportMessages') || '[]').length;
    statsEl.innerHTML = `
        <div class="stat-card"><div class="stat-icon">ğŸ‘¥</div><div class="stat-num">${users.length}</div><div class="stat-label">Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø´Ø¯Ù‡</div></div>
        <div class="stat-card"><div class="stat-icon">ğŸ“¦</div><div class="stat-num">${totalContents}</div><div class="stat-label">Ù…Ø­ØªÙˆØ§Ù‡Ø§</div></div>
        <div class="stat-card"><div class="stat-icon">ğŸ’¬</div><div class="stat-num">${totalMessages}</div><div class="stat-label">Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</div></div>
    `;

    if (users.length === 0) {
        tbody.innerHTML = '<tr><td colspan="6" style="text-align:center;color:var(--text-muted);padding:28px">Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡</td></tr>';
        return;
    }

    tbody.innerHTML = users.map((u, i) => `
        <tr>
            <td>${i + 1}</td>
            <td>${escHtml(u.firstName)}</td>
            <td>${escHtml(u.lastName)}</td>
            <td>${escHtml(u.phone)}</td>
            <td>${new Date(u.loginDate).toLocaleDateString('fa-IR')}</td>
            <td>${u.isAdmin ? '<span class="badge badge-primary">Ø§Ø¯Ù…ÛŒÙ†</span>' : u.isSpecial ? '<span class="badge badge-success">ÙˆÛŒÚ˜Ù‡</span>' : '<span class="badge badge-secondary">Ø¹Ø§Ø¯ÛŒ</span>'}</td>
        </tr>
    `).join('');
}

// ===== SETTINGS =====
function saveSettings() {
    const s = {
        titleText:      document.getElementById('titleText').value || 'Ù…Ø­ØªÙˆØ§ÛŒ Ú©Ø§Ù†Ø§Ù„',
        gradientColor1: document.getElementById('gradientColor1').value,
        gradientColor2: document.getElementById('gradientColor2').value,
        gridColumns:    document.getElementById('gridColumns').value,
        imageHeight:    document.getElementById('imageHeight').value || '260'
    };
    localStorage.setItem('siteSettings', JSON.stringify(s));
    applySettings(s);
    alert('ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ…');
}

function loadSettings() {
    const s = JSON.parse(localStorage.getItem('siteSettings') || 'null');
    if (s) applySettings(s);
}

function loadSettingsToForm() {
    const s = JSON.parse(localStorage.getItem('siteSettings') || 'null');
    if (!s) return;
    document.getElementById('titleText').value      = s.titleText || '';
    document.getElementById('gradientColor1').value = s.gradientColor1 || '#667eea';
    document.getElementById('gradientColor2').value = s.gradientColor2 || '#764ba2';
    document.getElementById('gridColumns').value    = s.gridColumns || '3';
    document.getElementById('imageHeight').value    = s.imageHeight || '260';
    document.getElementById('gradientColor1Value').textContent = s.gradientColor1 || '#667eea';
    document.getElementById('gradientColor2Value').textContent = s.gradientColor2 || '#764ba2';
}

function applySettings(s) {
    const titleEl = document.getElementById('pageTitleText');
    if (titleEl) titleEl.textContent = s.titleText || 'Ù…Ø­ØªÙˆØ§ÛŒ Ú©Ø§Ù†Ø§Ù„';

    const minSize = s.gridColumns === '2' ? '400px' : s.gridColumns === '4' ? '240px' : '320px';
    const existing = document.getElementById('dynamic-settings-style');
    if (existing) existing.remove();
    const style = document.createElement('style');
    style.id = 'dynamic-settings-style';
    style.textContent = `
        .content-grid { grid-template-columns: repeat(auto-fill, minmax(${minSize},1fr)) !important; }
        .content-media { height: ${s.imageHeight || 260}px !important; }
    `;
    document.head.appendChild(style);
}

document.getElementById('gradientColor1').addEventListener('input', (e) => {
    document.getElementById('gradientColor1Value').textContent = e.target.value;
});
document.getElementById('gradientColor2').addEventListener('input', (e) => {
    document.getElementById('gradientColor2Value').textContent = e.target.value;
});

// ===== FOOTER SETTINGS =====
function saveFooterSettings() {
    const s = {
        about:           document.getElementById('footerAbout').value,
        phone:           document.getElementById('footerPhone').value,
        email:           document.getElementById('footerEmail').value,
        address:         document.getElementById('footerAddress').value,
        socialEita:      document.getElementById('socialEita').value,
        socialTelegram:  document.getElementById('socialTelegram').value,
        socialInstagram: document.getElementById('socialInstagram').value,
        socialWhatsapp:  document.getElementById('socialWhatsapp').value
    };
    localStorage.setItem('footerSettings', JSON.stringify(s));
    displayFooter();
    alert('ØªÙ†Ø¸ÛŒÙ…Ø§Øª ÙÙˆØªØ± Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ…');
}

function loadFooterSettingsToForm() {
    const s = JSON.parse(localStorage.getItem('footerSettings') || 'null');
    if (!s) return;
    document.getElementById('footerAbout').value    = s.about    || '';
    document.getElementById('footerPhone').value    = s.phone    || '';
    document.getElementById('footerEmail').value    = s.email    || '';
    document.getElementById('footerAddress').value  = s.address  || '';
    document.getElementById('socialEita').value     = s.socialEita      || '';
    document.getElementById('socialTelegram').value = s.socialTelegram  || '';
    document.getElementById('socialInstagram').value= s.socialInstagram || '';
    document.getElementById('socialWhatsapp').value = s.socialWhatsapp  || '';
}

function displayFooter() {
    const s   = JSON.parse(localStorage.getItem('footerSettings') || 'null');
    const el  = document.getElementById('footerContent');
    if (!s || (!s.about && !s.phone && !s.email && !s.address &&
               !s.socialEita && !s.socialTelegram && !s.socialInstagram && !s.socialWhatsapp)) {
        el.innerHTML = '<div class="footer-col"><h3>Ú©Ø§Ù†Ø§Ù„ Ø¹Ù…Ùˆ ÙÙ„Ø§Ø­</h3><p>Ù…Ø­ØªÙˆØ§ÛŒ Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ Ùˆ Ø¢Ù…ÙˆØ²Ù†Ø¯Ù‡</p></div>';
        return;
    }
    let html = '';
    if (s.about) html += `<div class="footer-col"><h3>Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</h3><p>${escHtml(s.about)}</p></div>`;
    if (s.phone || s.email || s.address) {
        html += `<div class="footer-col"><h3>ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</h3>
            ${s.phone   ? `<p>ğŸ“ <a href="tel:${s.phone}" class="contact-link">${escHtml(s.phone)}</a></p>` : ''}
            ${s.email   ? `<p>ğŸ“§ <a href="mailto:${s.email}" class="contact-link">${escHtml(s.email)}</a></p>` : ''}
            ${s.address ? `<p>ğŸ“ ${escHtml(s.address)}</p>` : ''}
        </div>`;
    }
    const socials = [];
    if (s.socialEita)      socials.push(`<a href="${s.socialEita}" class="social-link" target="_blank">Ø§ÛŒØªØ§</a>`);
    if (s.socialTelegram)  socials.push(`<a href="${s.socialTelegram}" class="social-link" target="_blank">ØªÙ„Ú¯Ø±Ø§Ù…</a>`);
    if (s.socialInstagram) socials.push(`<a href="${s.socialInstagram}" class="social-link" target="_blank">Ø§ÛŒÙ†Ø³ØªØ§Ú¯Ø±Ø§Ù…</a>`);
    if (s.socialWhatsapp)  socials.push(`<a href="${s.socialWhatsapp}" class="social-link" target="_blank">ÙˆØ§ØªØ³Ø§Ù¾</a>`);
    if (socials.length) {
        html += `<div class="footer-col"><h3>Ø´Ø¨Ú©Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ</h3><div class="social-links">${socials.join('')}</div></div>`;
    }
    el.innerHTML = html;
}

// ===== ADVANCED SETTINGS =====
function saveAdvancedSettings() {
    const s = {
        animationSpeed:  document.getElementById('animationSpeed').value,
        spacing:         document.getElementById('spacing').value || '28',
        borderRadius:    document.getElementById('borderRadius').value || '16',
        shadowIntensity: document.getElementById('shadowIntensity').value
    };
    localStorage.setItem('advancedSettings', JSON.stringify(s));
    applyAdvancedSettings(s);
    alert('ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ…');
}

function loadAdvancedSettings() {
    const s = JSON.parse(localStorage.getItem('advancedSettings') || 'null');
    if (s) applyAdvancedSettings(s);
}

function loadAdvancedSettingsToForm() {
    const s = JSON.parse(localStorage.getItem('advancedSettings') || 'null');
    if (!s) return;
    document.getElementById('animationSpeed').value  = s.animationSpeed  || 'normal';
    document.getElementById('spacing').value         = s.spacing         || '28';
    document.getElementById('borderRadius').value    = s.borderRadius    || '16';
    document.getElementById('shadowIntensity').value = s.shadowIntensity || 'medium';
}

function applyAdvancedSettings(s) {
    const dur = s.animationSpeed === 'slow' ? '.7s' : s.animationSpeed === 'fast' ? '.2s' : '.4s';
    const shadow = s.shadowIntensity === 'light' ? '0 4px 16px rgba(0,0,0,0.2)'
                 : s.shadowIntensity === 'strong' ? '0 16px 48px rgba(0,0,0,0.55)'
                 : '0 8px 32px rgba(0,0,0,0.4)';
    const existing = document.getElementById('dynamic-advanced-style');
    if (existing) existing.remove();
    const style = document.createElement('style');
    style.id = 'dynamic-advanced-style';
    style.textContent = `
        .page.active { animation-duration: ${dur} !important; }
        .content-grid { gap: ${s.spacing || 28}px !important; }
        .content-item, .glass, .manage-card, .settings-card, .support-box {
            border-radius: ${s.borderRadius || 16}px !important;
        }
        .content-item { box-shadow: ${shadow} !important; }
    `;
    document.head.appendChild(style);
}

// ===== SUPPORT =====
document.getElementById('supportForm').addEventListener('submit', (e) => {
    e.preventDefault();
    const text = document.getElementById('supportMessage').value.trim();
    if (!text) return;
    const user = JSON.parse(localStorage.getItem('currentUser') || '{}');
    const msg = {
        id: Date.now(),
        userId: user.phone,
        userName: `${user.firstName} ${user.lastName}`,
        text,
        isAdmin: false,
        timestamp: new Date().toISOString()
    };
    const msgs = JSON.parse(localStorage.getItem('supportMessages') || '[]');
    msgs.push(msg);
    localStorage.setItem('supportMessages', JSON.stringify(msgs));
    document.getElementById('supportMessage').value = '';
    loadUserMessages(user);
    alert('Ù¾ÛŒØ§Ù… Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ âœ…');
});

function loadUserMessages(user) {
    if (!user) user = JSON.parse(localStorage.getItem('currentUser') || '{}');
    const msgs     = JSON.parse(localStorage.getItem('supportMessages') || '[]');
    const myMsgs   = msgs.filter(m => m.userId === user.phone);
    const container= document.getElementById('messagesContainer');

    if (myMsgs.length === 0) {
        container.innerHTML = '<div style="text-align:center;color:var(--text-muted);font-size:14px;padding:20px 0">Ù‡Ù†ÙˆØ² Ù¾ÛŒØ§Ù…ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª</div>';
        return;
    }

    container.innerHTML = myMsgs.map(m => `
        <div class="message ${m.isAdmin ? 'admin' : 'user'}">
            <div class="msg-header">${m.isAdmin ? 'Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ' : 'Ø´Ù…Ø§'}</div>
            <div class="msg-text">${escHtml(m.text)}</div>
            <div class="msg-time">${new Date(m.timestamp).toLocaleString('fa-IR')}</div>
        </div>
    `).join('');
    container.scrollTop = container.scrollHeight;
}

function loadAdminMessages() {
    const msgs      = JSON.parse(localStorage.getItem('supportMessages') || '[]');
    const container = document.getElementById('adminMessagesContainer');

    if (msgs.length === 0) {
        container.innerHTML = '<div style="text-align:center;color:var(--text-muted);padding:40px 0">Ù¾ÛŒØ§Ù…ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</div>';
        return;
    }

    const grouped = {};
    msgs.forEach(m => {
        if (!grouped[m.userId]) grouped[m.userId] = [];
        grouped[m.userId].push(m);
    });

    container.innerHTML = Object.keys(grouped).map(uid => {
        const userMsgs = grouped[uid];
        const uname    = userMsgs[0].userName;
        return `
        <div class="user-convo">
            <div class="user-convo-header">
                ğŸ‘¤ ${escHtml(uname)} <span>(${escHtml(uid)})</span>
            </div>
            ${userMsgs.map(m => `
                <div class="message ${m.isAdmin ? 'admin' : 'user'}">
                    <div class="msg-header">${m.isAdmin ? 'Ø´Ù…Ø§ (Ø§Ø¯Ù…ÛŒÙ†)' : escHtml(uname)}</div>
                    <div class="msg-text">${escHtml(m.text)}</div>
                    <div class="msg-time">${new Date(m.timestamp).toLocaleString('fa-IR')}</div>
                </div>
            `).join('')}
            <form onsubmit="replyToUser(event,'${uid}','${uname}')" class="reply-form-row">
                <textarea class="form-control" placeholder="Ù¾Ø§Ø³Ø® Ø´Ù…Ø§..." required></textarea>
                <button type="submit" class="btn btn-primary">Ø§Ø±Ø³Ø§Ù„ Ù¾Ø§Ø³Ø®</button>
            </form>
        </div>`;
    }).join('');
}

function replyToUser(event, userId, userName) {
    event.preventDefault();
    const textarea = event.target.querySelector('textarea');
    const text     = textarea.value.trim();
    if (!text) return;
    const msg = {
        id:        Date.now(),
        userId,
        userName,
        text,
        isAdmin:   true,
        timestamp: new Date().toISOString()
    };
    const msgs = JSON.parse(localStorage.getItem('supportMessages') || '[]');
    msgs.push(msg);
    localStorage.setItem('supportMessages', JSON.stringify(msgs));
    textarea.value = '';
    loadAdminMessages();
    alert('Ù¾Ø§Ø³Ø® Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯ âœ…');
}

// ===== UTILS =====
function escHtml(str) {
    if (!str) return '';
    return String(str)
        .replace(/&/g,'&amp;')
        .replace(/</g,'&lt;')
        .replace(/>/g,'&gt;')
        .replace(/"/g,'&quot;');
}

// ===== EXPOSE GLOBALS =====
window.deleteContent       = deleteContent;
window.editContent         = editContent;
window.saveSettings        = saveSettings;
window.saveFooterSettings  = saveFooterSettings;
window.saveAdvancedSettings= saveAdvancedSettings;
window.replyToUser         = replyToUser;
window.openZoom            = openZoom;
window.increaseFontSize    = increaseFontSize;
window.decreaseFontSize    = decreaseFontSize;
</script>
</body>
</html>
